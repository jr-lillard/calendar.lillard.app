<?php
declare(strict_types=1);

// Copy this file to config.php and fill in real credentials.
// Do NOT commit config.php (it is git-ignored).

return [
    'db_dsn'  => 'mysql:host=localhost;dbname=calendar_dev;charset=utf8mb4',
    'db_user' => 'calendar_app',
    'db_pass' => 'CHANGE_ME',
    // Display timezone (e.g., 'America/Chicago' for CST/CDT)
    'timezone' => 'America/Chicago',
    // PDO options
    'db_opts' => [
        PDO::ATTR_ERRMODE            => PDO::ERRMODE_EXCEPTION,
        PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,
        PDO::ATTR_EMULATE_PREPARES   => false,
    ],
    // Optional: public holidays ICS to overlay on week view
    // Example (US Holidays):
    // 'holiday_ics' => 'https://calendar.google.com/calendar/ical/en.usa%23holiday%40group.v.calendar.google.com/public/basic.ics',
    'holiday_ics' => null,
    'holiday_name' => 'Holidays',
    // Magic link + device auth settings
    'magic' => [
        // Base URL used to build magic links (no trailing slash)
        // e.g., 'https://calendar.lillard.dev'
        'base_url' => '',
        // Link validity window in minutes and how many times it can be used
        'token_ttl_minutes' => 15, // hard-capped to 15 in code
        'max_uses' => 10,
        // Long-lived device cookie settings
        'device_cookie_name' => 'cal_dev',
        'device_cookie_days' => 1825, // 5 years
    ],
    // One-time passcode (OTP) lifetime in minutes for email 6-digit codes
    'otp_ttl_minutes' => 10,

    // Optional: map login email domains to a canonical domain for lookup.
    // Example: allow user@lillard.org to match a record stored as user@lillard.dev
    // while still sending the OTP to the submitted address.
    'email_alias_domains' => [
        // 'lillard.org' => 'lillard.dev',
    ],

    // SMTP2GO (email delivery for OTP codes)
    'smtp2go' => [
        // Add your SMTP2GO API key here. Do not commit real keys to git.
        'api_key' => '',
        // From address used to send OTP codes
        'from_email' => 'calendar@lillard.dev',
        // Optional display name
        'from_name' => 'Family Calendar',
    ],
];
